"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3068,8622],{68622:function(e,t,l){l.r(t);var n=l(85893),i=l(30124);t.default=e=>{let{labelText:t,labelType:l,labelTextSize:d,customClass:a,id:o,pageType:r}=e,s=null!=l?l:"start",c="";switch(s){case"center":c="h-[18px] w-auto md:max-w-[90%] md:h-[31px] bg-ck-labelGradient rounded-b-lg md:rounded-b-[13px]";break;case"end":c="w-auto h-[18px] md:h-[26px] bg-ck-red rounded-tr-2xl !px-5 rounded-bl-lg !relative";break;default:c="w-[200px] h-[31px] bg-ck-red rounded-tl-2xl rounded-br-lg"}let u=t.length>17?"".concat(null==t?void 0:t.substring(0,(0,i.Xy)(s,"center",18,20)),"..."):t;return(0,n.jsx)("div",{className:"flex h-8 justify-".concat(s," ").concat(null!=a?a:""),id:"card_label_".concat(null!=o?o:t.split(" ").join("_"),"_").concat((0,i.ps)()),children:(0,n.jsx)("div",{className:" ".concat(c," flex justify-center items-center z-0 px-4 ").concat("deal_details"==r?"md:rounded-bl-xl":""),children:(0,n.jsx)("p",{className:" text-white text-[9px] md:text-base ".concat(null!=d?d:""," line-clamp-1 font-semibold text-center"),children:u})})})}},53068:function(e,t,l){l.d(t,{Z:function(){return j}});var n=l(85893),i=l(68622),d=l(57167),a=l(80143),o=l(77144),r=l(34818),s=l(47041);let c=e=>{var t,l,n,i,d;let c=(0,r.Tq)(),{name:u,key:m,text:x,id:v,isHome:p,options:_}=e,h=null!==(n=(0,s.getCookie)("X-PPS-Segment"))&&void 0!==n?n:"",b=null===(l=(0,s.getCookie)("X-PPS-Variant"))||void 0===l?void 0:null===(t=l.toString())||void 0===t?void 0:t.split("_");if(!(null==c?void 0:c.isUserLoggedIn))return;let g={},f=!1;g={user_id:c.RID,store_name:u,variant_name:null!==(i=null==b?void 0:b[0])&&void 0!==i?i:"",segment_id:h,page_id:null!==(d=null==b?void 0:b[1])&&void 0!==d?d:""},(null==_?void 0:_.event)=="similar_stores"&&(g={...g,event:o.b.SC_STORE_SIMILAR_STORES,variant_name:null==_?void 0:_.variant_name,position:null==_?void 0:_.position},f=!0),(null==_?void 0:_.isCatPage)&&(g={...g,event:o.b.SC_STORE_CATEGORIES_CTA,store_category_name:null==_?void 0:_.store_category_name,store_category_id:null==_?void 0:_.store_category_id,store_category_url:null==_?void 0:_.store_category_url,store_id:v,CTA_Text:x},f=!0),p&&(g={...g,event:o.b.HP_DYNAMIC_STORE_CTA,url_key:m,store_id:v,CTA_Text:x},f=!0),g&&f&&(0,a.C)(g)};var u=l(66511),m=l(24878),x=l(60907),v=l(80996),p=l(18306),_=l(16402),h=l(95018),b=l(67294),g=l(18400);let f=e=>{var t,l,i;let{itemDataAttributes:d}=e;return(0,n.jsx)(m.Z,{src:null!==(t=null==d?void 0:d.image_url)&&void 0!==t?t:"",alt:null!==(l=null==d?void 0:d.name)&&void 0!==l?l:"",title:null!==(i=null==d?void 0:d.name)&&void 0!==i?i:"",mobileWidthHeight:{width:112,height:52},desktopWidthHeight:{width:160,height:80},errSrc:u.W.STORE_CARD_NO_IMAGE,className:"mx-auto md:w-[192px] md:h-[88px] w-[112px] h-[52px] object-contain",unoptimized:!0})},y=e=>{let{id:t,itemDataAttributes:l,isHomePage:i,handleEventAndNavigation:d}=e;return(0,_.xb)(i)?(0,n.jsx)(v.default,{href:"/stores/".concat(null==l?void 0:l.unique_identifier),id:null!=t?t:"",children:(0,n.jsx)(f,{itemDataAttributes:l})}):(0,n.jsx)(x.default,{onClick:()=>{d()},id:null!=t?t:"store_card_nav",children:(0,n.jsx)(f,{itemDataAttributes:l})})},T=e=>{var t,l,i;let d=null==e?void 0:e.keyValue,a=null==e?void 0:e.itemId,o=null==e?void 0:e.itemDataAttributes,r=new Date(null!==(t=null==o?void 0:o.cashback_expiry_date)&&void 0!==t?t:"");(null==e?void 0:e.isSignupSegmentTimerActive)&&(r=new Date((0,g.Sp)()));let s=null!==(l=null==o?void 0:o.cashback_type)&&void 0!==l?l:"",c=null!==(i=null==o?void 0:o.offer_type)&&void 0!==i?i:"",u=null==o?void 0:o.unique_identifier,[m,v]=(0,b.useState)(!1),{days:_,hours:f,minutes:y,seconds:T}=(0,h.Z)({targetDate:r,onInit:()=>{v(()=>!0)},onExpire:()=>{v(()=>!1),(null==e?void 0:e.handleTimerExpire)&&e.handleTimerExpire(!1)}});if(m){let e="".concat(_.toString().padStart(2,"0")+(_>1?" days":" day"));return _<=0&&(e="".concat(f.toString().padStart(2,"0")+":"+y.toString().padStart(2,"0")+":"+T.toString().padStart(2,"0"))),(0,n.jsx)("div",{className:"h-[20px] md:h-[32px] border border-ck-artBoard-gray rounded flex justify-center items-center",children:(0,n.jsxs)("p",{className:" text-[10px] md:text-sm lg:text-md text-ck-red font-semibold flex items-center gap-1 leading-4 whitespace-nowrap md:px-2",children:[(0,n.jsx)("i",{className:"material-symbols-outlined mdi-schedule text-sm md:text-xl lg:text-xl","aria-hidden":"true"}),"Ends in ",e]})})}{let t=t=>{(null==e?void 0:e.handleStoreTermsPopup)&&e.handleStoreTermsPopup(null!=t?t:"")};return(0,n.jsx)(n.Fragment,{children:c!=p.l.COUPON_ONLY_TEXT?(0,n.jsx)(x.default,{id:"cat_Rates_Terms_".concat(a,"_").concat(d,"_").concat(a),onClick:()=>t(u||a),children:(0,n.jsxs)("span",{className:"text-[10px] md:text-base font-semibold text-ck-blue text-center underline leading-none",children:[s," Rates & Terms"]})}):(0,n.jsxs)("p",{id:"cat_No_Offers_".concat(a,"_").concat(d,"_").concat(a),className:"text-[10px] md:text-base font-semibold text-center",children:["No ",null!=s?s:""," Offers"]})})}};var j=e=>{var t,l,a,o;let r=null==e?void 0:e.keyValue,s=null==e?void 0:e.isHomePage,u=null==e?void 0:e.item,m=null==u?void 0:u.attributes,v=null==e?void 0:e.pageType,h=null!==(l=null==u?void 0:u.id)&&void 0!==l?l:"",f=null!==(a=null==m?void 0:m.cashback_type)&&void 0!==a?a:"",j=null!==(o=null==m?void 0:m.offer_type)&&void 0!==o?o:"",k=null==m?void 0:m.unique_identifier,S="/stores/".concat(null==m?void 0:m.unique_identifier),{upsellStore:N,isCalenderActive:C,isSignupSegmentTimerActive:w}=(0,g.mW)(m),E=N||C||w,A=(0,g.pJ)(m),[O,P]=(0,b.useState)(()=>E);(0,b.useEffect)(()=>{P(()=>E)},[E,A,e]);let R=t=>{var l,n,i,d,a,o;!(0,_.xb)(s)&&"button"===t&&(null==e?void 0:e.handleGTMEvent)&&e.handleGTMEvent(null!==(l=null==e?void 0:e.index)&&void 0!==l?l:0,null!==(n=null==m?void 0:m.name)&&void 0!==n?n:""),c({name:null!==(i=null==m?void 0:m.name)&&void 0!==i?i:"",key:null!==(d=null==m?void 0:m.unique_identifier)&&void 0!==d?d:"",text:null!==(a=null==m?void 0:m.cashback_button_text)&&void 0!==a?a:"",id:null!==(o=null==u?void 0:u.id)&&void 0!==o?o:"",isHome:null!=s&&s,options:null==e?void 0:e.storeCategoryGTMEventData}),(null==e?void 0:e.handleNavigation)&&e.handleNavigation(null!=S?S:"")},D=t=>{(null==e?void 0:e.handleStoreTermsPopup)&&e.handleStoreTermsPopup(null!=t?t:"")},I="",G="";return"search-result"===v&&(I="!mt-0 !mb-4"),"home_page"===v&&(G="!px-0",I="!mb-0   "),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"store_card_main md:mx-2 mx-1 my-2 md:my-4 ".concat(I," ").concat(e.storeCardStyle," ").concat((null==e?void 0:e.pageType)=="store_category"?"md:!my-3":""," ").concat((null==e?void 0:e.pageType)=="home_page"?"md:mb-4 mt-0 md:mt-0":""),id:"".concat(r,"_").concat(null==u?void 0:u.id),children:[(0,n.jsxs)("div",{className:"h-[95px] md:h-[158px] border-ck-stroke-gray border border-b-0 rounded-lg md:rounded-[13px] relative bottom-[-1px] bg-white",children:[(0,n.jsx)("div",{className:"h-8",children:(null==m?void 0:m.cashback_ribbon_text)&&(0,n.jsx)(i.default,{labelText:null==m?void 0:m.cashback_ribbon_text,labelType:"center"})}),(0,n.jsx)("div",{className:"mt-1 pb-5 md:mt-3 mx-auto w-[112px] h-[52px] md:w-auto md:h-[88px] flex justify-center items-center px-2 ".concat(G),children:(0,n.jsx)(y,{id:"category_resultsImg".concat(r,"_").concat(null==u?void 0:u.id),itemDataAttributes:m,isHomePage:s||(null==e?void 0:null===(t=e.storeCategoryGTMEventData)||void 0===t?void 0:t.event)=="similar_stores",handleEventAndNavigation:R})}),(0,n.jsx)("div",{className:"w-[90%] md:w-[91%] h-5 md:h-[32px] absolute bottom-[-10px] m-auto left-0 right-0 flex justify-center items-center",children:O?(0,n.jsx)(T,{keyValue:r,itemId:h,itemDataAttributes:m,handleStoreTermsPopup:D,handleTimerExpire:e=>{e||P(e)},isSignupSegmentTimerActive:w}):(0,n.jsx)(n.Fragment,{children:j!=p.l.COUPON_ONLY_TEXT?(0,n.jsx)(x.default,{id:"cat_Rates_Terms_".concat(h,"_").concat(r,"_").concat(h),onClick:()=>D(k||h),children:(0,n.jsxs)("span",{className:"text-[10px] md:text-base font-semibold text-ck-blue text-center underline leading-none",children:[f," Rates & Terms"]})}):(0,n.jsxs)("p",{id:"cat_No_Offers_".concat(h,"_").concat(r,"_").concat(h),className:"text-[10px] md:text-base font-semibold text-center",children:["No ",null!=f?f:""," Offers"]})})})]}),(0,n.jsx)("div",{className:"h-[68px] md:h-[106px] border-ck-stroke-gray border border-t-0 rounded-lg md:rounded-[13px] -z-10 top-[-1px] flex justify-center items-center bg-white",children:(0,n.jsx)("div",{className:"w-[85%] mx-auto flex justify-center items-center mt-1",children:(0,n.jsx)(d.default,{customType:"primary",customSize:"large",backgroundStyle:{color:"ck-blue",hoverColor:"ck-hovblue"},customClass:"text-white line-clamp-2 md:w-full px-1 py-[5px] md:px-5 md:py-[10px] lineHgt_revert md:leading-[22px]",onClick:()=>{R("button")},id:"category_resultsBtn".concat(r,"_").concat(h),children:A})})})]})})}}}]);