"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5904],{95018:function(e,t,n){var r=n(30124),i=n(30381),a=n.n(i),o=n(67294);t.Z=e=>{let{startDate:t,targetDate:n,onInit:i,onExpire:u,isGMT:c}=e,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new Date(new Date(e).toUTCString()),r=n.getTime()+6e4*n.getTimezoneOffset(),i=new Date(r);return""!=t&&(i=new Date(r+36e5*t)),i},s=t;t&&(s=l(t));let d=l(n),[v,f]=(0,o.useState)({days:0,hours:0,minutes:0,seconds:0,isFuture:!1}),g=(0,o.useRef)(null),h=(0,o.useRef)(!1),m=(0,o.useRef)(!1),w=async()=>{let e={},t=Window;if((null==t?void 0:t.ppsServerTime)!==void 0)return new Date(null==t?void 0:t.ppsServerTime);if(!0===t.initTimer)return"";(null==t?void 0:t.initTimer)===void 0&&(t.initTimer=!0);try{e=await fetch("/gct")}catch(e){console.log("gct Error: ",e)}let n=new Date((0,r.xb)(e.headers.get("x-gct"))?e.headers.get("date"):e.headers.get("x-gct")),i=n.getTime()+6e4*n.getTimezoneOffset();return t.ppsServerTime=i,setInterval(function(){try{(null==t?void 0:t.ppsServerTime)!==void 0&&(t.ppsServerTime=(null==t?void 0:t.ppsServerTime)+1e3)}catch(e){}},1e3),new Date(i)},_=async()=>{await w()},p=async()=>{var e;let t=await w();if(""==t)return{difference:-1,isFuture:!1};(t=new Date(t.getTime())).setSeconds(t.getSeconds()+0);let n=null===(e=a()(new Date(t)).add(5,"hours").add(30,"minutes"))||void 0===e?void 0:e.toDate(),r=c?n:new Date(t),i=!1;s&&(i=a()(s).isAfter(a()(r)));let o=i?s:d;return o?{difference:+o-+r,isFuture:i}:{difference:-1,isFuture:!1}},S=async()=>{let e=await p(),t=e.difference,n={days:0,hours:0,minutes:0,seconds:0,isFuture:!1};return t>0&&!isNaN(t)&&(n={days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60),isFuture:e.isFuture}),(null==m?void 0:m.current)||!(t>0)||isNaN(t)||(i&&i(),m.current=!0),n};return(0,o.useEffect)(()=>(h.current||_(),g.current=setInterval(async()=>{f(await S()),h.current||(h.current=!0,_());let e=await p(),t=e.difference;(t<=0||isNaN(t))&&!e.isFuture&&(g.current&&clearInterval(g.current),u&&u())},1e3),()=>{g.current&&clearInterval(g.current)}),[h.current]),v}},27633:function(e,t,n){n.d(t,{BD:function(){return r},YB:function(){return i},tE:function(){return a}}),n(85893),n(67294),n(30124);let r=()=>{let e=new Date(new Date().toUTCString());return new Date(e.getTime()+6e4*e.getTimezoneOffset())},i=e=>{let t=new Date(new Date(e).toUTCString());return new Date(t.getTime()+6e4*t.getTimezoneOffset())},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i(new Date(e)),r=n.getDate(),a=t?"'".concat(n.getFullYear().toString().substring(n.getFullYear().toString().length-2)):n.getFullYear();return"".concat(o(r)," ").concat(u(e)," ").concat(a)},o=e=>{if(e>3&&e<21)return"".concat(e,"th");switch(e%10){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"th")}},u=e=>i(new Date(e)).toLocaleString("en-US",{month:"short"})},18400:function(e,t,n){n.d(t,{Sp:function(){return l},mW:function(){return c},pJ:function(){return s}});var r=n(18306),i=n(57521),a=n(30124),o=n(27633),u=n(47041);let c=e=>{var t,n,c,l;let s=!(0,a.xb)(null==e?void 0:e.calendar_cashback_rules_type)&&(null==e?void 0:e.calendar_cashback_rules_type)==i.f.UPSELL_TEXT,d=null!==(n=null==e?void 0:e.cashback_expiry_date)&&void 0!==n?n:"",v=!(0,a.xb)(null==e?void 0:e.cashback_segment_id)&&(null==e?void 0:null===(l=e.cashback_segment_id)||void 0===l?void 0:l.includes(r.l.PPS_NEW_USER_SEGMENT_ID)),f=s&&(!(0,a.xb)(d)&&(0,o.YB)(new Date(d))>=(0,o.BD)()||v),g=!s&&(0,o.YB)(new Date(d))>=(0,o.BD)(),h=null!==(c=null===(t=(0,u.getCookie)(i.f.JOIN_INFO_DATE_TEXT))||void 0===t?void 0:t.toString())&&void 0!==c?c:"",m=(f||v||!s)&&!(0,a.xb)(h);return{isUpsellTimerActive:f,isSignupSegmentTimerActive:v,upsellStore:s,isCalenderActive:g,newUserOffer:m}},l=()=>{let e="12/24/1970 12:00:00";if(void 0!=(0,u.getCookie)("jofedate"))try{var t,n;e=decodeURIComponent(null!==(n=null===(t=(0,u.getCookie)("jofedate"))||void 0===t?void 0:t.toString())&&void 0!==n?n:e)}catch(e){}return e},s=e=>{var t,n,r,i,a,o;let u=null==e?void 0:e.cashback_button_text;if((null==e?void 0:e.cashback)&&Number(null==e?void 0:null===(t=e.cashback)||void 0===t?void 0:t.amount)>0){let t=null!==(i=null==e?void 0:null===(n=e.cashback)||void 0===n?void 0:n.amount)&&void 0!==i?i:"",c=null!==(a=null==e?void 0:e.secondary_cashback_count)&&void 0!==a?a:0,l=String("â‚¹"),s=(null==e?void 0:null===(r=e.cashback)||void 0===r?void 0:r.payment_type)=="percent"?"".concat(String(t),"%"):"".concat(l).concat(String(t)),d=null!==(o=null==e?void 0:e.cashback_type)&&void 0!==o?o:"";u="".concat(c>0?"Upto":"Flat"," ").concat(s," ").concat(d)}return u}}}]);